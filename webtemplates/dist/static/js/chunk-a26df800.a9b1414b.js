(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a26df800"],{"2ade":function(t,e,a){"use strict";a("d3b7");var i=a("cebe"),n=a.n(i),s=a("5c96"),r=(a("f3e4"),n.a.create({baseURL:"/",timeout:12e4})),o="/";r.interceptors.request.use((function(t){return t.baseURL=o,t.headers["Content-Type"]="application/json",t}),(function(t){console.log(t),Promise.reject(t)})),r.interceptors.response.use((function(t){var e=t.data;e.code,e.msg;return 403==e.status?(window.location.href="/#/error-page/page-401",{status:403}):404==e.status?(window.location.href="/#/error-page/page-404",{status:404}):e}),(function(t){var e=t.response.data.status;return e||Object(s["Message"])({type:"error",message:"接口请求失败"}),Promise.reject(t)})),e["a"]=r},"8d91":function(t,e,a){},bb51:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-wrapper"},[a("div",{staticClass:"date-row"},t._l(t.cardInfoData,(function(e,i){return a("div",{key:i,staticClass:"data-col"},[a("el-card",{attrs:{shadow:"always","body-style":{padding:"0px"}}},[a("div",{staticClass:"date-block"},[a("i",{staticClass:"icon-box",class:[e.icon],style:{background:e.color}}),a("div",{staticClass:"date-cont"},[a("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":e.count,duration:3e3}}),a("p",{staticClass:"title"},[t._v(t._s(e.title))])],1)])])],1)})),0),a("el-row",{staticClass:"date-box",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always","body-style":{padding:"0px"}}},[a("ChartsPie",{ref:"chart",staticClass:"data-desc",attrs:{title:t.text,type:"pie",data:t.chartsPieData}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always","body-style":{padding:"0px"}}},[a("div",{staticClass:"data-desc data-lang-box"},[a("div",{staticClass:"data-lang-title"},[t._v("Cookie数据统计")]),a("div",{staticStyle:{"margin-top":"120px","margin-left":"160px"}},[t._v("暂无数据")])])])],1),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always","body-style":{padding:"0px"}}},[a("div",{staticClass:"data-desc data-lang-box"},[a("div",{staticClass:"data-lang-title"},[t._v("接口数据统计")]),a("div",{staticStyle:{"margin-top":"120px","margin-left":"160px"}},[t._v("暂无数据")])])])],1)],1),a("el-row",{staticClass:"date-box",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-card",{attrs:{shadow:"always","body-style":{padding:"0px"}}},[a("ChartsBar",{staticClass:"data-chart",attrs:{title:t.title,data:t.commonChartsData}})],1)],1)],1)],1)},n=[],s=(a("96cf"),a("1da1")),r=a("ec1b"),o=a.n(r),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts-pie"})},l=[],d=(a("d81d"),a("b0c0"),a("313e")),u=a.n(d),f={name:"ChartsPie",props:{title:{type:String,default:""},type:{type:String,default:"pie"},data:{type:Array,default:function(){return[]}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},watch:{data:function(t){this.drawing()}},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){var t=this.data.map((function(t){return t.name})),e="pie"===this.type?"70%":["50%","70%"],a={title:{text:this.title,left:"center",top:15,textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{show:!0,orient:"vertical",left:10,top:20,itemWidth:25,itemHeight:15,itemGap:5,data:t,textStyle:{color:"#aaa",fontSize:12}},color:["#2d8cf0","#19be6b","#ff9900","#e46cbb","#9a66e4"],series:[{itemStyle:{normal:{label:{show:!0,fontSize:14,formatter:"{c} ({d}%)"},labelLine:{show:!0}}},name:"域名",type:"pie",radius:e,center:["52%","55%"],data:this.data}]};this.dom=u.a.init(this.$refs.dom),this.dom.setOption(a),window.addEventListener("resize",this.resize)}}},h=f,p=a("2877"),m=Object(p["a"])(h,c,l,!1,null,null,null),b=m.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts-bar"})},y=[],v=(a("b64b"),a("07ac"),{name:"ChartsBar",props:{title:{type:String,default:""},data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},watch:{data:function(t){this.drawing()}},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){var t=Object.keys(this.data),e=Object.values(this.data),a={title:{text:this.title,left:"center",top:15,textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"axis",formatter:"{b} <br/>{a} : {c}",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",max:function(t){return 100*Math.ceil(t.max/100)+300}}],color:["#2d8cf0"],series:[{name:"直接访问",type:"bar",barWidth:"40%",data:e,itemStyle:{normal:{label:{show:!0,fontSize:14,position:"top",formatter:"{c}"}}}}]};this.dom=u.a.init(this.$refs.dom),this.dom.setOption(a),window.addEventListener("resize",this.resize)}}}),w=v,x=Object(p["a"])(w,g,y,!1,null,null,null),C=x.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts-line"})},S=[],D={name:"ChartsLine",props:{title:{type:String,default:""},data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){var t=Object.keys(this.data),e=Object.values(this.data),a={title:{text:this.title,left:"center",top:15,textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"axis",formatter:"{b} <br/>{a} : {c}",axisPointer:{type:"line"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",max:function(t){return 100*Math.ceil(t.max/100)+300}}],color:["#9a66e4"],series:[{name:"直接访问",type:"line",data:e,itemStyle:{normal:{label:{show:!0,fontSize:14,position:"top",formatter:"{c}"}}}}]};this.dom=u.a.init(this.$refs.dom),this.dom.setOption(a),window.addEventListener("resize",this.resize)}}},O=D,j=Object(p["a"])(O,z,S,!1,null,null,null),L=j.exports,P=a("2ade"),_={name:"Home",components:{CountTo:o.a,ChartsPie:b,ChartsBar:C,ChartsLine:L},data:function(){return{text:"主机域名占比",title:"近七天接口数",langsData:[{name:"VUE",value:45,color:"#2d8cf0"},{name:"ES6",value:32,color:"#19be6b"},{name:"TS",value:4,color:"#ff9900"},{name:"LESS",value:13,color:"#e46cbb"},{name:"HTML",value:6,color:"#9a66e4"}],cardInfoData:[],chartsPieData:[],commonChartsData:{}}},methods:{getCardInfoData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P["a"].get("/api/getCardInfoData");case 2:a=e.sent,200!=a.status?t.cardInfoData=[]:(t.cardInfoData=[{title:"总接口数",icon:"vue-dsn-icon-dianji",count:a.data.proxyTotalNum,color:"#2d8cf0"},{title:"总用户数",icon:"vue-dsn-icon-xinzeng",count:a.data.personTotalNum,color:"#19be6b"},{title:"今日新增接口数",icon:"el-icon-chat-line-square",count:a.data.proxyNumOfToday,color:"#ff9900"},{title:"有效cookie数",icon:"vue-dsn-icon-dianzan",count:0,color:"#e46cbb"},{title:"域名数",icon:"vue-dsn-icon-heart",count:a.data.hostnameNum,color:"#9a66e4"}],t.commonChartsData=a.data.proxyDataOf7days);case 4:case"end":return e.stop()}}),e)})))()},getProxyDataClassify:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.chartsPieData),e.next=3,P["a"].get("/api/getProxyDataClassify");case 3:a=e.sent,200!=a.status?t.chartsPieData=[]:t.chartsPieData=a.data;case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.getCardInfoData(),this.getProxyDataClassify()}},k=_,E=(a("de16"),Object(p["a"])(k,i,n,!1,null,null,null));e["default"]=E.exports},de16:function(t,e,a){"use strict";var i=a("8d91"),n=a.n(i);n.a}}]);